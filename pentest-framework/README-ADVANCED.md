# ğŸ”’ Professional Web Penetration Testing Framework v3.0

## ğŸ“‹ VisÃ£o Geral

Script **ÃšNICO E COMPLETO** (`pentest-advanced.sh`) que contÃ©m **TUDO**:
- âœ… InstalaÃ§Ã£o automÃ¡tica de todas as ferramentas
- âœ… ConfiguraÃ§Ã£o de ambiente Python (venv)
- âœ… VerificaÃ§Ã£o e auto-instalaÃ§Ã£o a cada execuÃ§Ã£o
- âœ… Smart Scan integrado (Arjun + Fuzzing + SQLMap + Dalfox + Nuclei)
- âœ… Framework Python tradicional
- âœ… Health check, backup, rollback, menu interativo

## ğŸš€ CaracterÃ­sticas Principais

### âœ¨ Auto-InstalaÃ§Ã£o Inteligente
- **Verifica e instala automaticamente** ferramentas faltantes antes de cada scan
- Suporte para **Kali Linux, Debian, Ubuntu, Arch, Fedora**
- Instala: Go, ferramentas Go (nuclei, httpx, subfinder, ffuf, etc.), Python tools (arjun, wfuzz)
- Configura **venv** automaticamente
- **SecLists** com auto-detecÃ§Ã£o de wordlists

### ğŸ¯ Smart Scan (Tudo Integrado no mesmo .sh)
1. **Descoberta de ParÃ¢metros** (Arjun)
2. **Fuzzing Inteligente** (ffuf com wordlists especÃ­ficas)
3. **SQL Injection** (SQLMap automatizado)
4. **XSS** (dalfox com anÃ¡lise completa)
5. **Command Injection, LFI, XXE, SSRF**
6. **ValidaÃ§Ã£o Final** (Nuclei)
7. **RelatÃ³rio Detalhado**

### ğŸ“¦ Wordlists do SecLists
- SQLi: `Fuzzing/SQLi/Generic-SQLi.txt`
- XSS: `Fuzzing/XSS/XSS-Jhaddix.txt`
- CMDI: `Fuzzing/command-injection-commix.txt`
- LFI: `Fuzzing/LFI/LFI-Jhaddix.txt`
- Generic Params: `Discovery/Web-Content/burp-parameter-names.txt`

## ğŸ“– Como Usar

### 1ï¸âƒ£ InstalaÃ§Ã£o Completa (Primeira Vez)

```bash
cd pentest-framework
chmod +x pentest-advanced.sh

# InstalaÃ§Ã£o completa
./pentest-advanced.sh --install

# Ou menu interativo
./pentest-advanced.sh --menu
```

### 2ï¸âƒ£ Smart Scan (Arjun + Fuzzing AutomÃ¡tico)

```bash
# O script VERIFICA E INSTALA tudo automaticamente antes de rodar!

# Smart scan completo
./pentest-advanced.sh --smart -u https://target.com/page.php

# Forma abreviada
./pentest-advanced.sh -s -u https://target.com
```

**O que acontece:**
1. âœ… Verifica se arjun, ffuf, sqlmap, dalfox, nuclei estÃ£o instalados
2. âœ… Se faltar algo, **instala automaticamente**
3. âœ… Configura venv se necessÃ¡rio
4. âœ… Executa descoberta de parÃ¢metros (Arjun)
5. âœ… Fuzzing inteligente com wordlists do SecLists
6. âœ… Testes de SQLi, XSS, CMDI, LFI
7. âœ… ValidaÃ§Ã£o com Nuclei
8. âœ… Gera relatÃ³rio completo

### 3ï¸âƒ£ Scan Python Tradicional

```bash
# O script verifica e instala o que faltar automaticamente

./pentest-advanced.sh -u https://target.com --recon
./pentest-advanced.sh -d target.com --full
./pentest-advanced.sh -u https://target.com --vuln
```

### 4ï¸âƒ£ Outros Comandos

```bash
# Health check
./pentest-advanced.sh --check

# Auto-fix de problemas
./pentest-advanced.sh --fix

# Atualizar todas as ferramentas
./pentest-advanced.sh --update

# Menu interativo
./pentest-advanced.sh --menu

# Backup
./pentest-advanced.sh --backup

# Rollback
./pentest-advanced.sh --rollback
```

## ğŸ¯ Exemplo de Output do Smart Scan

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     ğŸ”’ Professional Web Penetration Testing Framework v3.0 ğŸ”’            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[â„¹] ğŸ¯ Target: https://target.com/page.php
[â„¹] ğŸ“ Output: /path/to/output/smart_scan_20231202_153045

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¯ Descobrindo ParÃ¢metros com Arjun
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[*] Executando Arjun...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [*] Arjun v2.2.3
  [+] Parameter found: id
  [+] Parameter found: name  
  [+] Parameter found: search
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[âœ“] ParÃ¢metros descobertos: id name search

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ” Scan Completo do ParÃ¢metro: id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[*] Testando SQLi no parÃ¢metro: id
[â„¹] Wordlist: Generic-SQLi.txt (203 payloads)

  [Status: 200, Size: 1234, Words: 156, Lines: 45, Duration: 123ms]
  https://target.com/page.php?id=1' OR '1'='1

[!!! VULNERABILITY FOUND !!!] SQLi: 15 resultados encontrados no parÃ¢metro 'id'

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ’‰ SQLMap - Teste de SQL Injection no ParÃ¢metro: id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Parameter: id (GET)
    Type: boolean-based blind
    Title: AND boolean-based blind - WHERE or HAVING clause
    Payload: id=1 AND 5123=5123

[!!! VULNERABILITY FOUND !!!] SQLi CONFIRMADO no parÃ¢metro 'id'!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ”¬ Nuclei - ValidaÃ§Ã£o Final
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  [CRITICAL] SQL Injection detected
      https://target.com/page.php?id=1

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“Š Gerando RelatÃ³rio
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[âœ“] RelatÃ³rio gerado: output/smart_scan_xxx/REPORT.txt
```

## ğŸ“ Estrutura de Output

```
output/smart_scan_TIMESTAMP/
â”œâ”€â”€ arjun_full.log              # Output completo do Arjun
â”œâ”€â”€ arjun_params.json           # ParÃ¢metros descobertos (JSON)
â”œâ”€â”€ parameters.txt              # Lista de parÃ¢metros
â”œâ”€â”€ SQLi_id.log                 # ffuf output completo
â”œâ”€â”€ SQLi_id.json                # Resultados JSON
â”œâ”€â”€ sqlmap_id_full.log          # SQLMap output completo
â”œâ”€â”€ dalfox_name_full.log        # Dalfox output completo
â”œâ”€â”€ dalfox_name.json            # XSS findings JSON
â”œâ”€â”€ nuclei_full.log             # Nuclei output completo
â”œâ”€â”€ nuclei_results.json         # Vulnerabilidades JSON
â”œâ”€â”€ vulnerabilities.txt         # Resumo de todas as vulns
â””â”€â”€ REPORT.txt                  # RelatÃ³rio final completo
```

## ğŸ› ï¸ Ferramentas Instaladas Automaticamente

### Go Tools
- nuclei (vulnerability scanner)
- httpx (HTTP toolkit)
- subfinder (subdomain enumeration)
- katana (web crawler)
- waybackurls, gau (URL discovery)
- dalfox (XSS scanner)
- ffuf (fuzzer)
- assetfinder, dnsx, naabu

### Python Tools
- arjun (parameter discovery) â­
- wfuzz (web fuzzer)
- uro (URL processor)

### APT Tools
- nmap, masscan (port scanning)
- sqlmap (SQL injection)
- nikto, whatweb (web scanner)
- hydra (brute force)
- gobuster, dirb (directory fuzzing)
- zaproxy (web proxy)

### Wordlists
- SecLists (completo)

## ğŸ”§ Troubleshooting

### Arjun nÃ£o encontrado?

```bash
# O script tenta instalar automaticamente, mas se falhar:
pip3 install arjun --user --break-system-packages
export PATH="$PATH:$HOME/.local/bin"

# Ou execute o fix
./pentest-advanced.sh --fix
```

### Wordlists nÃ£o encontradas?

```bash
# Instalar SecLists
sudo apt install seclists

# Ou clonar manualmente
sudo git clone https://github.com/danielmiessler/SecLists.git /usr/share/seclists
```

### Ferramentas Go nÃ£o funcionam?

```bash
# Adicionar ao PATH
echo 'export PATH="$PATH:/usr/local/go/bin:$HOME/go/bin"' >> ~/.bashrc
source ~/.bashrc

# Ou usar o auto-fix
./pentest-advanced.sh --fix
```

## ğŸ“ Exemplos de Uso AvanÃ§ado

### Scan em mÃºltiplos parÃ¢metros

```bash
# O Arjun descobre automaticamente, mas vocÃª pode especificar:
./pentest-advanced.sh --smart -u "https://target.com/search.php?q=test&page=1"
```

### Usar com proxy (Burp)

```bash
export HTTP_PROXY=http://127.0.0.1:8080
export HTTPS_PROXY=http://127.0.0.1:8080
./pentest-advanced.sh --smart -u https://target.com
```

### Debug mode

```bash
# Ver todos os comandos executados
bash -x ./pentest-advanced.sh --smart -u https://target.com
```

## ğŸ“Š Fluxo de Trabalho Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ./pentest-advanced.sh --smart -u https://target.com         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Quick Check & Auto-Install                               â”‚
â”‚     âœ“ Verifica ferramentas essenciais                        â”‚
â”‚     âœ“ Instala o que faltar automaticamente                   â”‚
â”‚     âœ“ Configura venv, PATH, etc.                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Parameter Discovery (Arjun)                              â”‚
â”‚     âœ“ Descobre parÃ¢metros GET/POST                           â”‚
â”‚     âœ“ Fallback para parÃ¢metros comuns se necessÃ¡rio          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Fuzzing Inteligente (para cada parÃ¢metro)                â”‚
â”‚     âœ“ SQLi (ffuf + SQLMap)                                   â”‚
â”‚     âœ“ XSS (ffuf + dalfox)                                    â”‚
â”‚     âœ“ Command Injection (ffuf)                               â”‚
â”‚     âœ“ LFI/Path Traversal (ffuf)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ValidaÃ§Ã£o Final (Nuclei)                                 â”‚
â”‚     âœ“ 4000+ templates                                        â”‚
â”‚     âœ“ Critical, High, Medium severity                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. RelatÃ³rio Completo                                       â”‚
â”‚     âœ“ Vulnerabilidades confirmadas                           â”‚
â”‚     âœ“ Logs detalhados de cada ferramenta                     â”‚
â”‚     âœ“ JSON para anÃ¡lise programÃ¡tica                         â”‚
â”‚     âœ“ RecomendaÃ§Ãµes de follow-up                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒŸ Vantagens do Script Ãšnico

1. **âœ… Tudo em um arquivo** - FÃ¡cil de distribuir e usar
2. **âœ… Auto-instalaÃ§Ã£o** - Verifica e instala automaticamente
3. **âœ… Sempre atualizado** - Quick check a cada execuÃ§Ã£o
4. **âœ… NÃ£o precisa de prÃ©-requisitos** - Instala tudo sozinho
5. **âœ… Funciona offline** - ApÃ³s primeira instalaÃ§Ã£o
6. **âœ… Logs completos** - Nenhuma informaÃ§Ã£o perdida
7. **âœ… Outputs detalhados** - NÃ£o hÃ¡ sumarizaÃ§Ã£o
8. **âœ… Backup automÃ¡tico** - SeguranÃ§a em updates
9. **âœ… Cross-platform** - Funciona em vÃ¡rias distros

## ğŸ“ Notas Importantes

- **Primeira execuÃ§Ã£o**: Pode demorar (instala tudo)
- **ExecuÃ§Ãµes seguintes**: RÃ¡pidas (quick check only)
- **Arjun**: Instalado via pip com `--break-system-packages` para Kali 2024+
- **Venv**: Criado automaticamente em `pentest-framework/venv/`
- **Logs**: Salvos em `pentest-framework/logs/`
- **Backups**: Salvos em `pentest-framework/.backups/`

## ğŸ¤ Suporte

Se algo nÃ£o funcionar:

1. Executar health check: `./pentest-advanced.sh --check`
2. Tentar auto-fix: `./pentest-advanced.sh --fix`
3. Ver logs: `./pentest-advanced.sh --logs`
4. Reinstalar: `./pentest-advanced.sh --install`

---

**Created by BUCH CTF Team** ğŸš€

